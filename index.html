<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV-E</title>

    <link rel="stylesheet" href="ev.css">
</head>

<body>
    <div id="ev">
        <div class="background-container">
            <svg id="eve-lines" viewBox="0 0 500 500">
            </svg>
        </div>
        <div class="cursor"></div>
        <div class="blob-container">
            <svg id="eve" class="left" viewBox="0 0 500 500">
                  <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%" gradientTransform="rotate(0)">
                      <stop offset="0%" style="stop-color:#45DCA2;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#3B4A72;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%" gradientTransform="rotate(0)">
                      <stop offset="0%" style="stop-color:#3B4A72;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#45DCA2;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="grad3" x1="0%" y1="100%" x2="100%" y2="0%" gradientTransform="rotate(0)">
                      <stop offset="0%" style="stop-color:#3B4A72;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#45DCA2;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="grad4" x1="0%" y1="100%" x2="100%" y2="0%" gradientTransform="rotate(0)">
                      <stop offset="0%" style="stop-color:#3B4A72;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#45DCA2;stop-opacity:1" />
                    </linearGradient>

                    <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="100%" gradientTransform="rotate(0)">
                      <stop offset="10%" style="stop-color:#45DCA2;stop-opacity:1" />
                      <stop offset="90%" style="stop-color:#3B4A72;stop-opacity:1 "/>
                    </linearGradient>

                    <linearGradient id="grad6" x1="0%" y1="100%" x2="100%" y2="100%" gradientTransform="rotate(0)">
                      <stop offset="0%" style="stop-color:#3B4A72;stop-opacity:1 "/>
                      <stop offset="100%" style="stop-color:#45DCA2;stop-opacity:1 "/>
                    </linearGradient>

                    <linearGradient id="grad7" x1="0%" y1="0%" x2="100%" y2="0%" gradientTransform="rotate(45)">
                      <stop offset="0%" style="stop-color:#3B4A72;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#45DCA2;stop-opacity:1" />
                    </linearGradient>

                  </defs>
                  <path id="path1" fill="url(#grad1)"></path>
                  <path id="path2" fill="url(#grad2)"></path>
                  <path id="path3" fill="url(#grad3)"></path>
                  <path id="path4" fill="url(#grad4)"></path>
                  <path id="path5" fill="url(#grad5)"></path>
                  <path id="path6" fill="url(#grad6)"></path>
                  <path id="path7" fill="url(#grad7)"></path></svg>

                  <h1 class="hello"></h1>
        </div>

        <div class="slider-container">
            <div id="sideMenu" class="menu" style="display: none">
                <ul class="side-nav">
                  <li class="side-nav-item level0 active" data-go-to="#dashboard-page"><span>Dashboard</span></li>
                  <li class="side-nav-item level0" data-go-to="#dashboard-page"><span>Self</span></li>
                  <li class="side-nav-item level0" data-go-to="#dashboard-page"><span>Home</span></li>
                  <li class="side-nav-item level0" data-go-to="#dashboard-page"><span>Car</span> </li>

                  <li class="side-nav-item level0" data-level="1" data-toggle="sub-nav" data-go-to="#apps-page">
                    <span>Apps</span>
                    <ul class="side-nav-sub-nav" data-level="1">
                      <li class="side-nav-item level1">App 1</li>
                      <li class="side-nav-item level1">App 2</li>
                      <li class="side-nav-item level1">App 3</li>
                      <li class="side-nav-item level1" data-go-to="#slider-page">Spottify</li>
                      <li class="side-nav-item level1">App 5</li>
                      <li class="side-nav-item level1">App 6</li>
                      <li class="side-nav-item level1">App 7</li>
                    </ul>
                  </li>
                  <li class="side-nav-item level0" data-go-to="#dashboard-page"> <span>Map</span></li>
                  <li class="side-nav-item level0" data-go-to="#dashboard-page"><span>Settings</span></li>
                </ul>
              </div>

            <div class="menu" >
                <ul>
                    <li data-go-to="#dashboard-page" class="active">Dashboard</li>
                    <li data-go-to="#dashboard-page">Self</li>
                    <li data-go-to="#dashboard-page">Home</li>
                    <li data-go-to="#dashboard-page">Car</li>
                    <li data-go-to="#apps-page">Apps</li>
                    <li data-go-to="#dashboard-page">Drive</li>
                    <li data-go-to="#dashboard-page">Settings</li>
                </ul>
            </div>
            <div class="inner-contents">
                <div class="dashboard page active" id="dashboard-page">
                    <img src="images/Dashboard/02.png" alt="" class="abs">
                    <img src="images/Dashboard/01.png" alt="">
                </div>
                <div class="ev-slider page" id="slider-page" data-slide-one="one" data-slide-two="two">
                    <div class="ev-slides ">
                        <div class="slide one">
                            <img src="images/Spotify/01_1.png" alt="">
                            <img src="images/Spotify/01_2.png" alt="" class="abs">
                        </div>
                        <div class="slide two">
                            <img src="images/Spotify/02_2.png" alt="" class="abs">
                            <img src="images/Spotify/02_1.png" alt="">
                        </div>
                        <div class="slide three">
                            <img src="images/Spotify/03_2.png" alt="" class="abs">
                            <img src="images/Spotify/03_1.png" alt="">
                        </div>
                    </div>
                    <div class="ev-controls">
                        <button class="prev">prev</button>
                        <button class="next">next</button>
                    </div>


                </div>
                <div class="apps page" id="apps-page">
                <img src="images/Apps/00.png" alt="" data-go-to="#slider-page">
                </div>
            </div>


        </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="ev.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <script>
        jQuery(document).ready(function($) {
            moveCursor();

            function moveCursor() {
                var mouseX = 0,
                    mouseY = 0,
                    limitX = 2560 - 10,
                    limitY = 720 - 10;
                $('#ev').mousemove(function(e) {
                    var offset = $('#ev').offset();
                    mouseX = Math.min(e.pageX - offset.left, limitX);
                    mouseY = Math.min(e.pageY - offset.top, limitY);
                    if (mouseX < 0) mouseX = 0;
                    if (mouseY < 0) mouseY = 0;
                });

                // cache the selector
                var follower = $(".cursor");

                var xp = 0,
                    yp = 0;
                var loop = setInterval(function() {
                    // change 12 to alter damping higher is slower
                    xp += (mouseX - xp) / 5;
                    yp += (mouseY - yp) / 5;
                    follower.css({
                        top: yp,
                        left: xp
                    });

                }, 0);
            }

            var svg = $('#eve-lines');
            var circle;
            for (var a = 1; a < 50; a += 5) {

                circle = $(document.createElementNS('http://www.w3.org/2000/svg', 'path')).attr({
                    class: "stroked path" + a
                });
                $(svg).append(circle);


                var blob = createBlob({
                    element: document.querySelector("#eve-lines .path" + a),
                    numPoints: 6,
                    centerX: 250,
                    centerY: 250,
                    minRadius: 35 * a,
                    maxRadius: 100 * a,
                    minDuration: 8,
                    maxDuration: 20
                });
            }

            $(".blob-container").on('click', function() {
                $("#ev").addClass('switch');
            });



            var next = $('.next'),
                prev = $('.prev'),
                eve = $('.ev-slider');

            next.on('click', function() {

                var activeOne = eve.attr('data-slide-one');
                var activeTwo = eve.attr('data-slide-two');


                if (activeOne === "one" && activeTwo === "two") {
                    eve.attr('data-slide-one', 'two').attr('data-slide-two', 'three')
                } else if (activeOne === "two" && activeTwo === "three") {
                    eve.attr('data-slide-one', 'three').attr('data-slide-two', 'one')
                } else {
                    eve.attr('data-slide-one', 'one').attr('data-slide-two', 'two')
                }

            });


            prev.on('click', function() {

                var activeOne = eve.attr('data-slide-one');
                var activeTwo = eve.attr('data-slide-two');


                if (activeOne === "one" && activeTwo === "two") {
                    eve.attr('data-slide-one', 'three').attr('data-slide-two', 'one')
                } else if (activeOne === "two" && activeTwo === "three") {
                    eve.attr('data-slide-one', 'one').attr('data-slide-two', 'two')
                } else {
                    eve.attr('data-slide-one', 'two').attr('data-slide-two', 'three')
                }

            });


            $("#ev .slider-container").mousemove(function(e) {
                parallaxIt(e, ".one img", -130);
                parallaxIt(e, ".one img.abs", -190);
                parallaxIt(e, ".two img", 110);
                parallaxIt(e, ".two img.abs", 160);
                parallaxIt(e, ".three img", -90);
                parallaxIt(e, ".three img.abs", -140);
                });

                function parallaxIt(e, target, movement) {
                var $this = $(".slider-container");
                var relX = e.pageX - $this.offset().left;
                var relY = e.pageY - $this.offset().top;

                TweenMax.to(target, 1, {
                    x: (relX - $this.width() / 2) / $this.width() * movement,
                    y: (relY - $this.height() / 2) / $this.height() * movement
                });
                }

                $("#ev .page > img").mousemove(function(e) {
                parallaxIt(e, "#ev .page > img", -110);
                parallaxIt(e, "#ev .page > img.abs", -190);
                });

                function parallaxIt(e, target, movement) {
                var $this = $(".slider-container");
                var relX = e.pageX - $this.offset().left;
                var relY = e.pageY - $this.offset().top;

                TweenMax.to(target, 1, {
                    x: (relX - $this.width() / 2) / $this.width() * movement,
                    y: (relY - $this.height() / 2) / $this.height() * movement
                });
                }

            $('.menu li').on('click', function(){
                $('.menu .active').removeClass('active')
                $(this).addClass('active');


                var goto = $(this).attr('data-go-to');

                $('.page').removeClass('active');

                $(goto).addClass('active');
            });

            $('#apps-page [data-go-to="#slider-page"]').on('click', function(){
                $('.page').removeClass('active');
                $("#slider-page").addClass('active');
            });

            // var menu = $('#sideMenu'),
            //     dropdownToggle = $('[data-toggle="sub-nav"]');

            //     dropdownToggle.on('click', function() {
            //         menu.toggleClass('active');
            //         var level = $(this).attr('data-level');
            //         $(this).find('[data-level=' + level + ']').addClass('active');
            //     });


        });
    </script>
</body>

</html>